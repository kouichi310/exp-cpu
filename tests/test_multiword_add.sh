#!/bin/sh
set -e
SCRIPT_DIR="$(dirname "$0")"
. "$SCRIPT_DIR/test_helper.sh"

run_test "multi-word addition" "
w 0 0x6d
w 1 0x70
w 2 0xaa
w 3 0x01
w 4 0x20
w 5 0x67
w 6 0x80
w 7 0x97
w 8 0x90
w 9 0x77
w 0xa 0xa0
w 0xb 0xaa
w 0xc 0x01
w 0xd 0x35
w 0xe 0x05
w 0xf 0x0c
s pc 0
w 0x170 0x03
w 0x180 0x01
w 0x181 0xff
w 0x182 0xfe
w 0x190 0x02
w 0x191 0x00
w 0x192 0x03
c
m 0x1a0
q
" "| 1a0:  03 ff 01"

print_summary
if [ "$FAIL_COUNT" -ne 0 ]; then exit 1; fi

exit 0
